<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>XML: [xml] libxml/xpath integration with postgresql</title>
<meta name="Author" content="Vincent Trussart (trussarv@cirano.umontreal.ca)">
<meta name="Subject" content="[xml] libxml/xpath integration with postgresql">
<link rev="made" href="mailto:veillard@w3.org">
</head>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<h1>[xml] libxml/xpath integration with postgresql</h1>
<!-- received="Thu Jun 29 23:13:04 2000" -->
<!-- isoreceived="20000630031304" -->
<!-- sent="Thu, 29 Jun 2000 23:08:41 -0400" -->
<!-- isosent="20000630030841" -->
<!-- name="Vincent Trussart" -->
<!-- email="trussarv@cirano.umontreal.ca" -->
<!-- subject="[xml] libxml/xpath integration with postgresql" -->
<!-- id="395C0F39.BB51E81B@cirano.umontreal.ca" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
<th><a href="author.html">Author view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Vincent Trussart (<a href="mailto:trussarv@cirano.umontreal.ca?subject=Re:%20[xml]%20libxml/xpath%20integration%20with%20postgresql"><em>trussarv@cirano.umontreal.ca</em></a>)<br>
<strong>Date:</strong> Thu Jun 29 2000 - 23:08:41 EDT
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0554.html">Marc Billaud: "Re: [xml] Compilation pbs for the example"</a>
<li><strong>Previous message:</strong> <a href="0552.html">Daniel Veillard: "Re: [xml] building and validating"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<p>
Hi,
<br>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I built a small C function for postgresql (a 
<br>
fonction defined as a shared object that gets linked 
<br>
when needed) that performs matching in an XML document
<br>
stored in a &quot;TEXT&quot; column using an XPath expression.
<br>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is quite usefull since it allows the storage
<br>
of XML documents as free text (instead of breaking it
<br>
up in fragments according to the DTD and linking elements
<br>
and nodes using foreign keys....)
<br>
while still being able to take advantage of its structure
<br>
for querying.
<br>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Much work remains to be done Currently, 
<br>
I only return a boolean saying &quot;it matches something
<br>
&nbsp;or not&quot; but I would like to return what was matched.
<br>
What is returned by the XPath evaluation depends on 
<br>
the expression itself.  It would be easy to do
<br>
as much functions as there is return types...
<br>
<p>float xpath_number(xmldata, xpathexpression)
<br>
text xpath_text(xmldata, xpathexpression)
<br>
.
<br>
.
<br>
.
<br>
<p>...and fail if the return type of the xpath evaluation is
<br>
not compatible.  Even with this approach, it would be
<br>
difficult to return a nodeset...
<br>
<p>It would be possible to define a new datatype in postgres,
<br>
for a node in a nodeset but
<br>
this is not really portable; it would not be possible to
<br>
use this function through jdbc, for example...
<br>
<p>Moreover, can a postgres function return an enumeration
<br>
(a node set)?
<br>
<p><p>As you can see, I need feedback and design ideas...
<br>
<p><p><p><p>PS: I someone wants the function, I can make it accessible.
<br>
(it was derived from the testXPath.c example.  Basically, I only
<br>
did the bindings with postgresql)
<br>
<p>PPS: I will be away for 2 weeks starting Saturday morning...
<br>
<pre>
----
Message from the list <a href="mailto:xml@xmlsoft.org?subject=Re:%20[xml]%20libxml/xpath%20integration%20with%20postgresql">xml@xmlsoft.org</a>
Archived at : <a href="http://xmlsoft.org/messages/">http://xmlsoft.org/messages/</a>
to unsubscribe: echo &quot;unsubscribe xml&quot; | mail  <a href="mailto:majordomo@xmlsoft.org?subject=Re:%20[xml]%20libxml/xpath%20integration%20with%20postgresql">majordomo@xmlsoft.org</a>
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0554.html">Marc Billaud: "Re: [xml] Compilation pbs for the example"</a>
<li><strong>Previous message:</strong> <a href="0552.html">Daniel Veillard: "Re: [xml] building and validating"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
<th><a href="author.html">Author view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2b29</a> 
: <em>Wed Aug 02 2000 - 12:30:18 EDT</em>
</em>
</small>
</body>
</html>
